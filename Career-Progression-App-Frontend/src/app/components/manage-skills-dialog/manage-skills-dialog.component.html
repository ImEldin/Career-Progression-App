<div class="position-dialog-overlay">
  <div class="position-dialog" (click)="$event.stopPropagation()">
    <div *ngIf="isLoading" class="loading-state">
      <mat-icon class="loading-icon">hourglass_empty</mat-icon>
      <p>Loading skills...</p>
    </div>

    <ng-container *ngIf="!isLoading">
      <div class="dialog-header">
        <h3>Manage Skills</h3>
        <button class="close-btn" type="button" (click)="cancel()">Ã—</button>
      </div>

      <div class="position-form">
        <div class="form-group">
          <label for="skills">Select Skills</label>
          <mat-form-field appearance="fill" class="full-width">
            <mat-select
              [formControl]="selectedSkills"
              multiple
              placeholder="Select skills"
            >
              <mat-option *ngFor="let skill of skills" [value]="skill.id">
                {{ skill.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="dialog-actions">
          <button
            type="button"
            class="btn btn-cancel"
            (click)="cancel()"
            [disabled]="isSaving"
          >
            Cancel
          </button>
          <button
            type="button"
            class="btn btn-save"
            (click)="save()"
            [disabled]="isLoading || isSaving"
          >
            Save Skills
          </button>
        </div>
      </div>
    </ng-container>
  </div>
</div>
